function familiasElements(a){"use strict";function i(a){if("ok"!=a.status)return"v_error"==a.status&&($("form#nDirForm :input").each(function(){$(this).removeClass("is-invalid")}),a.errores.forEach(function(a,i){$("#"+a).addClass("is-invalid")}),!1);$("input[name=id_direccion]").val(a.id),$("#cardBodyButtons").removeClass("d-none"),$("#cardBodyDir").load("/direcciones/loadDir/"+a.id),$("#myModal").modal("hide")}if(0!=$("#tbListarFamilias").length&&$(tbListarFamilias).dataTable({language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json",decimal:",",thousands:"."}}),0!=$("#tbCrearFamilia").length){function n(a){window.location.href=a.url}$(document).on("click","#btnCrearFamilia",function(a){a.preventDefault();const i="/familias/crear";$.ajax({type:"POST",url:i,data:$("#tbCrearFamilia").serialize(),success:n,dataType:"json"})})}if(0!=$("#tbModificarFamilia").length){function n(a){window.location.href=a.url}$(document).on("click","#btnModificarFamilia",function(a){a.preventDefault();const i=$("#id").val(),t="/familias/modificar/"+i;$.ajax({type:"POST",url:t,data:$("#tbModificarFamilia").serialize(),success:n,dataType:"json"})}),$(document).on("click","#cambiarDireccion",function(a){const i="/direcciones/loadFormMisma/"+$("#id_direccion").val();$(".modal-content").load(i,function(a){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("click","#btnModifDirActual",function(a){a.preventDefault();const n="/direcciones/modifdiractual/"+$("#id_direccion").val();$.ajax({type:"POST",url:n,data:$("#nDirForm").serialize(),success:i,dataType:"json"})}),$(document).on("click","#mismaDireccion",function(a){a.preventDefault(),$("#cardBodyButtons").removeClass("d-none")})}if(0!=$("#tbAsignarFamilia").length){function t(a){a.preventDefault();let i=$("#tbMiembrosIn").DataTable().row($(this).closest("tr")),n=$(this).closest("tr").children("td").first().text(),t=$("input[name=ids_out]").val();t=t+n+",",$("input[name=ids_out]").val(t);let e=$("input[name=ids_in]").val();e=e.replace(n+",",""),$("input[name=ids_in]").val(e),$("#tbMiembrosOut").DataTable().row.add(i.data()).draw(),i.remove().draw()}function e(a){a.preventDefault();let i=$("#tbMiembrosOut").DataTable().row($(this).closest("tr")),n=$(this).closest("tr").children("td").first().text(),t=$("input[name=ids_out]").val();t=t.replace(n+",",""),$("input[name=ids_out]").val(t);let e=$("input[name=ids_in]").val();e=e+n+",",$("input[name=ids_in]").val(e),$("#tbMiembrosIn").DataTable().row.add(i.data()).draw(),i.remove().draw()}function o(a){window.location.href=a.url}$(tbMiembrosIn).dataTable({language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json",decimal:",",thousands:"."},pageLength:5,lengthChange:!1,info:!1,dom:'<"pull-lefta"f><"pull-righta"l>tip',createdRow:function(a,i,n,t){$(t[2]).html('<a href="" class="MiembroOut"><i class="fa fa-minus"></i></a>'),$(a).addClass("text-center")}}),$(tbMiembrosOut).dataTable({language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json",decimal:",",thousands:"."},pageLength:5,lengthChange:!1,info:!1,dom:'<"pull-leftb"f><"pull-rightb"l>tip',createdRow:function(a,i,n,t){$(t[2]).html('<a href="" class="MiembroIn"><i class="fa fa-plus"></i></a>'),$(a).addClass("text-center")}}),$(document).on("click","#btnGuardarAsigFamilia",function(a){a.preventDefault();const i="/familias/asignar/miembros/"+$("input[name=id]").val();$.ajax({type:"POST",url:i,data:$("#tbAsignarFamilia").serialize(),success:o,dataType:"json"})}),$(document).on("click",".MiembroIn",e),$(document).on("click",".MiembroOut",t)}$(document).on("click","#nuevaDireccion",function(a){$(".modal-content").load("/direcciones/loadFormNueva",function(){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("click","#usarDireccion",function(a){$(".modal-content").load("/direcciones/loadFormUsar",function(){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("shown.bs.modal","#myModal",function(a){$(this).find(".modal-dialog").css({width:"auto",height:"auto","max-height":"70%","max-width":"70%"})}),$(document).on("click",".page-link",function(a){a.preventDefault();const i=$(this).attr("href");$(".modal-content").load(i,function(){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("click",".asignar-dir",function(a){let i=$(this).closest("tr"),n=i.find("td:nth-child(1)").text().trim();$("input[name=id_direccion]").val(n),$("#cardBodyButtons").removeClass("d-none"),$("#cardBodyDir").load("/direcciones/loadDir/"+n),$("#myModal").modal("hide")}),$(document).on("click","#btnCrearDireccion",function(a){a.preventDefault();const n="/direcciones/creardireccion";$.ajax({type:"POST",url:n,data:$("#nDirForm").serialize(),success:i,dataType:"json"})}),$(document).on("focus","form#nDirForm .form-control-user",function(a){$(this).removeClass("is-invalid")})}window.addEventListener("load",familiasElements,!1);