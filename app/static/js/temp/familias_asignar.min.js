(function(a){"use strict";function t(t){if("ok"!=t.status)return a("#myModal .modal-content").html(t),!1;a("input[name=idDir]").val(t.id),a("#cardBodyButtons").removeClass("d-none"),a("#cardBodyDir").load("crear/loadDir/"+t.id),a("#myModal").modal("hide")}function i(a){window.location.href=a.url}a(document).on("click",".asignar-dir",function(t){let i=a(this).closest("tr"),n=i.find("td:nth-child(1)").text().trim();a("input[name=idDir]").val(n),a("#cardBodyButtons").removeClass("d-none"),a("#cardBodyDir").load("crear/loadDir/"+n),a("#myModal").modal("hide")}),a(".crear-nueva-dir").click(function(){a("input[name=NewDirFlag]").val("True"),a("input[name=idDir]").val(""),a("input[name=tipo_via]").val(""),a("input[name=nombre_via]").val(""),a("input[name=nro_via]").val(""),a("input[name=portalescalotros_via]").val(""),a("input[name=cp_via]").val(""),a("input[name=ciudad_via]").val(""),a("input[name=provincia_via]").val(""),a("input[name=pais_via]").val("")}),a(".agregar-quitar-miembros").click(function(){if("quitar"==a(this).attr("tag-accion")){a("input[name=modifFlag]").val("True");let t=a(this).attr("tag-id"),i=a("input[name=ids]").val();i=i.replace(t+",","");let n=a(this).attr("tag-id"),e=a("input[name=ids_totales]").val();e=e+n+",",""==i?a(".tag-coletilla-ma").removeClass("d-none"):a(".tag-coletilla-ma").addClass("d-none"),a("input[name=ids]").val(i),a("input[name=ids_totales]").val(e),a(this).closest("tr").children(".count-in").text("0"),a(this).text("Agregar"),a(this).attr("tag-accion","agregar");let l=a(this).closest("tr");a(".m-no-incluidos").append(l);let o=parseInt(a(".count-gc").text())-1;a(".count-gc").text(o),a(".tag-coletilla-mni").addClass("d-none")}else{a("input[name=modifFlag]").val("True");n=a(this).attr("tag-id"),i=a("input[name=ids]").val();i=i+n+",";t=a(this).attr("tag-id"),e=a("input[name=ids_totales]").val();e=e.replace(t+",",""),""==e?a(".tag-coletilla-mni").removeClass("d-none"):a(".tag-coletilla-mni").addClass("d-none"),a("input[name=ids]").val(i),a("input[name=ids_totales]").val(e),a(this).closest("tr").children(".count-in").text("1"),a(this).text("Quitar"),a(this).attr("tag-accion","quitar");l=a(this).closest("tr");a(".m-incluidos").append(l);o=parseInt(a(".count-gc").text())+1;a(".count-gc").text(o),a(".tag-coletilla-ma").addClass("d-none")}}),a("#myModal").on("shown.bs.modal",function(){a(this).find(".modal-dialog").css({width:"auto",height:"auto","max-height":"70%","max-width":"70%"})}),a(document).on("click","#btnCrear",function(i){i.preventDefault(),url="crear/nuevadir",a.ajax({type:"POST",url:url,data:a("#nDirForm").serialize(),success:t,dataType:"json"})}),a(document).on("click","#btnCrearFam",function(t){t.preventDefault(),url="crear",a.ajax({type:"POST",url:url,data:a("#familyForm").serialize(),success:i,dataType:"json"})}),a(document).on("click",".page-link",function(t){t.preventDefault();let i=a(this).attr("href");a(".modal-content").load(i,function(){a("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})})})(jQuery);