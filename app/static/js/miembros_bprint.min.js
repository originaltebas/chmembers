function miembrosElements(o){"use strict";function e(o){if("ok"!=o.status)return"v_error"==o.status&&($("form#nDirForm :input").each(function(){$(this).removeClass("is-invalid")}),o.errores.forEach(function(o,e){$("#"+o).addClass("is-invalid")}),!1);$("input[name=id_direccion]").val(o.id),$("#cardBodyButtons").removeClass("d-none"),$("#cardBodyDir").load("/direcciones/loadDir/"+o.id),$("#myModal").modal("hide")}function n(o){"val"==o.status?document.getElementById("formerrors").innerHTML=o.errors:window.location.href=o.url}if(0!=$("#tbListarMiembros").length&&$(tbListarMiembros).dataTable({language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json",decimal:",",thousands:"."}}),0!=$("#tblistarPersonasRoles").length&&$(tblistarPersonasRoles).dataTable({language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json",decimal:",",thousands:"."}}),0!=$("#tbCrearMiembro").length){function i(o){"val"==o.status?document.getElementById("formerrors").innerHTML=o.errors:window.location.href=o.url}$(document).on("click","#btnCrearMiembro",function(o){o.preventDefault();const e="/miembros/crear";$.ajax({type:"POST",url:e,data:$("#tbCrearMiembro").serialize(),success:i,dataType:"json"})})}if(0!=$("#tbModificarMiembro").length){function i(o){"val"==o.status?document.getElementById("formerrors").innerHTML=o.errors:window.location.href=o.url}$(document).on("click","#btnModificarMiembro",function(o){o.preventDefault();const e=$("#id").val();console.log(e);const n="/miembros/modificar/"+e;$.ajax({type:"POST",url:n,data:$("#tbModificarMiembro").serialize(),success:i,dataType:"json"})}),$(document).on("click","#cambiarDireccion",function(o){const e="/direcciones/loadFormMisma/"+$("#id_direccion").val();$(".modal-content").load(e,function(o){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("click","#btnModifDirActual",function(o){o.preventDefault();const n="/direcciones/modifdiractual/"+$("#id_direccion").val();$.ajax({type:"POST",url:n,data:$("#nDirForm").serialize(),success:e,dataType:"json"})}),$(document).on("click","#mismaDireccion",function(o){o.preventDefault(),$("#cardBodyButtons").removeClass("d-none")})}$(document).on("click","#nuevaDireccion",function(o){$(".modal-content").load("/direcciones/loadFormNueva",function(){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("click","#usarDireccion",function(o){$(".modal-content").load("/direcciones/loadFormUsar",function(){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("shown.bs.modal","#myModal",function(o){$(this).find(".modal-dialog").css({width:"auto",height:"auto","max-height":"70%","max-width":"70%"})}),$(document).on("click",".page-link",function(o){o.preventDefault();const e=$(this).attr("href");$(".modal-content").load(e,function(){$("#myModal").modal({show:!0,closable:!1,transition:"fade up"})})}),$(document).on("click",".asignar-dir",function(o){let e=$(this).closest("tr"),n=e.find("td:nth-child(1)").text().trim();$("input[name=id_direccion]").val(n),$("#cardBodyButtons").removeClass("d-none"),$("#cardBodyDir").load("/direcciones/loadDir/"+n),$("#myModal").modal("hide")}),$(document).on("click","#btnCrearDireccion",function(o){o.preventDefault();const n="/direcciones/creardireccion";$.ajax({type:"POST",url:n,data:$("#nDirForm").serialize(),success:e,dataType:"json"})}),$(document).on("focus","form#nDirForm .form-control-user",function(o){$(this).removeClass("is-invalid")}),0!=$("#preselectedoptions").length&&$("#preselectedoptions").multiSelect({}),$(document).on("click","#btnAsignarRoles",function(o){o.preventDefault();const e="/miembros/asignar/rol/guardar";console.log($("#tbAsignarRoles").serialize()),$.ajax({type:"POST",url:e,data:$("#tbAsignarRoles").serialize(),success:n,dataType:"json"})})}window.addEventListener("load",miembrosElements,!1);